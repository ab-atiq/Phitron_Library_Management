{% extends 'home.html' %}
{% block title %}{{ user.username }}{% endblock %}
{% block content %}
<div class="container">
    <h2 class="text-center">Reservations</h2>
    {%if not user_reservations%}
    <h3 class="text-danger">Yor have no reservation books</h3>
    {%else%}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Book Title</th>
                <th scope="col">Author</th>
                <th scope="col">ISBN</th>
                <th scope="col">Genre</th>
            </tr>
        </thead>
        <tbody>
            {% for reservation in user_reservations %}
            <tr>
                <th scope="row">{{ reservation.book.title }}</th>
                <td>{{ reservation.book.author }}</td>
                <td>{{ reservation.book.isbn }}</td>
                <td>{{reservation.book.genre}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {%endif%}
    <h2 class="text-center">Borrowings</h2>
    {%if not user_borrowings%}
    <h3 class="text-danger">Borrowing books are not availabe</h3>
    {%else%}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Book Title</th>
                <th scope="col">Author</th>
                <th scope="col">ISBN</th>
                <th scope="col">Genre</th>
            </tr>
        </thead>
        <tbody>
            {% for borrowing in user_borrowings %}
            <tr>
                <th scope="row">{{ borrowing.book.title }}</th>
                <td>{{ borrowing.book.author }}</td>
                <td>{{ borrowing.book.isbn }}</td>
                <td>{{borrowing.book.genre}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {%endif%}
    <h2 class="text-center">Fines</h2>
    {%if not user_fines%}
    <h1>You have no fines</h1>
    {%else%}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Book Fine</th>
            </tr>
        </thead>
        <tbody>
            {% for fine in user_fines %}
            <tr>
                <th scope="row">${{ fine.fine_amount}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {%endif%}
    <h2 class="text-center">WishList</h2>
    {%if not user_wishlist%}
    <h3 class="text-danger">Borrowing books are not availabe</h3>
    {%else%}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Book Title</th>
                <th scope="col">Author</th>
                <th scope="col">ISBN</th>
                <th scope="col">Genre</th>
                <th scope="col">Search</th>

            </tr>
        </thead>
        <tbody>
            {% for wishlist in user_wishlist %}
            <tr>
                <th scope="row">{{ wishlist.book.title }}</th>
                <td>{{ wishlist.book.author }}</td>
                <td>{{ wishlist.book.isbn }}</td>
                <td>{{wishlist.book.genre}}</td>
                <td><a href="/book/search/?query={{ wishlist.book.title }}">{{ wishlist.book.title }}</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {%endif%}
</div>
{% endblock %}
